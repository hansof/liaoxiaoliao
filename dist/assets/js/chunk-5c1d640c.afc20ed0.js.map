{"version":3,"sources":["webpack:///./src/views/scoreList/scoreList.vue?6a24","webpack:///./src/views/scoreList/scoreList.vue?0ab8","webpack:///src/views/scoreList/scoreList.vue","webpack:///./src/views/scoreList/scoreList.vue?6410","webpack:///./src/views/scoreList/scoreList.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","currentScore","ref","attrs","refresh","infinite","_l","item","key","id","memo","timeFormat","createTime","class","blsign","score","directives","name","rawName","value","expression","staticRenderFns","data","userInfo","$util","parse","getCookie","lastId","pageSize","balance","totalIncome","datalist","noDate","noDateFlag","components","defaultPage","created","mounted","methods","getList","ajaxRequest","setTimeout","$refs","myscroller","finishInfinite","done","component"],"mappings":"2IAAA,yBAAuf,EAAG,G,yCCA1f,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,OAAO,CAACJ,EAAIO,GAAG,wBAAwBH,EAAG,QAAQ,CAACJ,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,cAAc,YAAYL,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,WAAW,CAACM,IAAI,aAAaC,MAAM,CAAC,aAAaX,EAAIY,QAAQ,cAAcZ,EAAIa,WAAW,CAACT,EAAG,KAAK,CAACJ,EAAIc,GAAId,EAAY,UAAE,SAASe,GAAM,MAAO,CAACX,EAAG,KAAK,CAACY,IAAID,EAAKE,IAAI,CAACb,EAAG,MAAM,CAACE,YAAY,WAAW,CAACN,EAAIO,GAAGP,EAAIQ,GAAGO,EAAKG,SAASd,EAAG,MAAM,CAACE,YAAY,WAAW,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAImB,WAAWJ,EAAKK,gBAAgBhB,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACA,EAAG,OAAO,CAACE,YAAY,cAAce,MAAM,CAAC,OAAwB,GAAfN,EAAKO,SAAyB,CAACtB,EAAIO,GAAGP,EAAIQ,IAAiB,GAAbO,EAAKO,OAAU,IAAI,KAAKP,EAAKQ,OAAO,uBAAsB,MAAM,GAAGnB,EAAG,MAAM,CAACE,YAAY,YAAY,CAACN,EAAIO,GAAG,sBAAsBH,EAAG,eAAe,CAACoB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAO3B,EAAc,WAAE4B,WAAW,kBAAkB,IACpgCC,EAAkB,G,YCyCtB,GACEJ,KAAM,YACNK,KAFF,WAGI,MAAO,CACLC,SAAU9B,KAAK+B,MAAMC,MAAMhC,KAAK+B,MAAME,UAAU,aAChDC,OAAQ,KACRC,SAAU,GACVC,QAAS,EACTC,YAAa,EACbC,SAAU,GACVC,QAAQ,EACRC,YAAY,EACZhC,aAAc,IAGlBiC,WAAY,CACV,eAAgBC,EAApB,MAEEC,QAlBF,aAmBEC,QAnBF,aAoBEC,QAAS,CACPC,QADJ,WACA,WACA,uBACM9C,KAAK+C,YACX,CACQ,KAAR,6CACQ,KAAR,CACU,OAAV,SACU,OAAV,2BACU,SAAV,iBAGA,YACA,qBACU,EAAV,sCACA,kCACY,EAAZ,UACA,WACc,EAAd,iBAGA,SAGc,EAAd,mDAFc,EAAd,gCAIY,EAAZ,OACA,uBACA,iCACA,KAEA,sBACA,uBACY,EAAZ,eAEU,EAAV,eAKIpC,QAxCJ,WAwCA,WACMX,KAAKkC,OAAS,KACdlC,KAAKuC,QAAS,EACdS,YAAW,WACT,EAAR,UACQ,EAAR,yCACA,OAGIpC,SAjDJ,SAiDA,cACUZ,KAAKuC,OACPvC,KAAKiD,MAAMC,WAAWC,gBAAe,GAErCH,YAAW,WACT,EAAV,UACUI,GAAK,KACf,OAGIlC,WA3DJ,SA2DA,GACM,IAAN,cAEA,GADA,gBACA,gBACA,cACA,eACA,iBACA,iBACM,OACN,EACA,IACA,EACA,KACA,aACA,KACA,aACA,KACA,gBC1IkW,I,wBCQ9VmC,EAAY,eACd,EACAvD,EACA8B,GACA,EACA,KACA,WACA,MAIa,aAAAyB,E","file":"assets/js/chunk-5c1d640c.afc20ed0.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./scoreList.vue?vue&type=style&index=0&id=42fbd1a2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./scoreList.vue?vue&type=style&index=0&id=42fbd1a2&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"scoreList\"},[_c('div',{staticClass:\"rollinghint\"},[_c('span',[_vm._v(\"\\n      当前积分\\n      \"),_c('label',[_vm._v(_vm._s(_vm.currentScore)+\"积分\")])])]),_c('div',{staticClass:\"scoreListBox\"},[_c('scroller',{ref:\"myscroller\",attrs:{\"on-refresh\":_vm.refresh,\"on-infinite\":_vm.infinite}},[_c('ul',[_vm._l((_vm.datalist),function(item){return [_c('li',{key:item.id},[_c('div',{staticClass:\"applybt\"},[_vm._v(_vm._s(item.memo))]),_c('div',{staticClass:\"applyte\"},[_vm._v(_vm._s(_vm.timeFormat(item.createTime)))]),_c('div',{staticClass:\"applynum\"},[_c('table',[_c('tr',[_c('td',[_c('span',{staticClass:\"appolymoney\",class:{'addRed':item.blsign == 1?true:false}},[_vm._v(_vm._s((item.blsign==1?'+':'-')+item.score)+\"积分\")])])])])])])]})],2)])],1),_c('div',{staticClass:\"scoreTip\"},[_vm._v(\"积分可按规则抵扣相应的提现服务费\")]),_c('default-Page',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.noDateFlag),expression:\"noDateFlag\"}]})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"scoreList\">\n    <div class=\"rollinghint\">\n      <span>\n        当前积分\n        <label>{{currentScore}}积分</label>\n      </span>\n    </div>\n    <div class=\"scoreListBox\">\n      <scroller :on-refresh=\"refresh\" :on-infinite=\"infinite\" ref=\"myscroller\">\n        <ul>\n          <template v-for=\"item in datalist\">\n            <li :key=\"item.id\">\n              <div class=\"applybt\">{{item.memo}}</div>\n              <div class=\"applyte\">{{timeFormat(item.createTime)}}</div>\n              <div class=\"applynum\">\n                <table>\n                  <tr>\n                    <td>\n                      <span\n                        class=\"appolymoney\"\n                        :class=\"{'addRed':item.blsign == 1?true:false}\"\n                      >{{(item.blsign==1?'+':'-')+item.score}}积分</span>\n                      <!-- <span\n                        class=\"applytipc\"\n                      >{{item.scoreType == 101?'邀请赠送':item.scoreType == 102?'提现抵扣':item.scoreType==103?'提现失败退回':''}}</span>-->\n                    </td>\n                  </tr>\n                </table>\n              </div>\n            </li>\n          </template>\n        </ul>\n      </scroller>\n    </div>\n    <div class=\"scoreTip\">积分可按规则抵扣相应的提现服务费</div>\n    <default-Page v-show=\"noDateFlag\"></default-Page>\n  </div>\n</template>\n\n<script>\nimport defaultPage from \"@/components/defaultPage/defaultPage\";\nexport default {\n  name: \"scoreList\",\n  data() {\n    return {\n      userInfo: this.$util.parse(this.$util.getCookie(\"userInfo\")),\n      lastId: null,\n      pageSize: 20,\n      balance: 0, //余额\n      totalIncome: 0, //累计收入\n      datalist: [], //积分明细列表\n      noDate: false, //这是一个判断是否加载的开关\n      noDateFlag: false,\n      currentScore: 0 //当前积分\n    };\n  },\n  components: {\n    \"default-Page\": defaultPage\n  },\n  created() {},\n  mounted() {},\n  methods: {\n    getList() {\n      let wxUser = this.userInfo.wxUser;\n      this.ajaxRequest(\n        {\n          path: \"api-server/apih5/account/score/scoreDetail\",\n          data: {\n            userNo: wxUser.userNo,\n            lastId: this.lastId ? this.lastId : \"\",\n            pageSize: this.pageSize\n          }\n        },\n        res => {\n          if (res.data.code == \"0000\") {\n            this.currentScore = res.data.data.currentScore;\n            if (res.data.data.detailList.length == 0) {\n              this.noDate = true;\n              if (!this.lastId) {\n                this.noDateFlag = true;\n              }\n            } else {\n              if (!this.lastId) {\n                this.datalist = res.data.data.detailList;\n              } else {\n                this.datalist = this.datalist.concat(res.data.data.detailList);\n              }\n              this.lastId =\n                res.data.data.detailList[\n                  res.data.data.detailList.length - 1\n                ].id;\n            }\n          } else if (res.data.code == \"1001\") {\n            if (this.datalist.length == 0) {\n              this.noDateFlag = true;\n            }\n            this.noDate = true;\n          }\n        }\n      );\n    },\n    refresh() {\n      this.lastId = null; //重置\n      this.noDate = false; //重置数据判断\n      setTimeout(() => {\n        this.getList();\n        this.$refs.myscroller.finishPullToRefresh(); //刷新完毕关闭刷新的转圈圈\n      }, 1700);\n    },\n    // 上拉加载\n    infinite(done) {\n      if (this.noDate) {\n        this.$refs.myscroller.finishInfinite(true); //这个方法是不让它加载了，显示“没有更多数据”，要不然会一直转圈圈\n      } else {\n        setTimeout(() => {\n          this.getList();\n          done(true); //进行下一次加载操作\n        }, 1500);\n      }\n    },\n    timeFormat(timeStamp) {\n      const time = new Date(timeStamp);\n      const year = time.getFullYear();\n      const m = time.getMonth() + 1;\n      const d = time.getDate();\n      const h = time.getHours();\n      const mm = time.getMinutes();\n      const s = time.getSeconds();\n      return (\n        m +\n        \"/\" +\n        d +\n        \" \" +\n        (h > 9 ? h : \"0\" + h) +\n        \":\" +\n        (mm > 9 ? mm : \"0\" + mm) +\n        \":\" +\n        (s > 9 ? s : \"0\" + s)\n      );\n    }\n  }\n};\n</script>\n\n<style scoped>\n.scoreList {\n  width: 100%;\n  height: 100%;\n  padding-top: 0.8rem;\n  padding-bottom: 0.96rem;\n}\n\n.scoreListBox {\n  position: relative;\n  height: 100%;\n}\n\n.rollinghint {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 1000;\n  width: 100%;\n  font-size: 0.28rem;\n  color: #888;\n  line-height: 0.88rem;\n  background: #f5f5f5;\n  padding: 0 0.24rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: Center;\n}\n\n.rollinghint label {\n  color: #ef3d34;\n  font-size: 0.32rem;\n  font-weight: bold;\n  margin-left: 0.1rem;\n}\n\n.scoreListBox ul {\n  width: 100%;\n  height: auto;\n}\n\n.scoreListBox ul li {\n  width: 100%;\n  height: 1.32rem;\n  position: relative;\n  height: 1.32rem;\n  padding-top: 0.2rem;\n  padding: 0.2rem 0.24rem 0 0.24rem;\n  border-bottom: 1px #ececec solid;\n}\n\n.applybt {\n  font-size: 0.3rem;\n  color: #333333;\n  line-height: 0.5rem;\n}\n\n.applyte {\n  font-size: 0.22rem;\n  color: #bebebe;\n  line-height: 0.4rem;\n}\n\n.applynum {\n  width: auto;\n  position: absolute;\n  right: 0.24rem;\n  font-size: 0.32rem;\n  top: 0;\n  bottom: 0;\n  margin-top: auto;\n  margin-bottom: auto;\n  color: #333333;\n  height: auto;\n}\n\n.applynum table {\n  width: 100%;\n  border-collapse: collapse;\n  height: 1.32rem;\n}\n\n.appolymoney {\n  width: 100%;\n  text-align: right;\n  display: block;\n  font-size: 0.32rem;\n  color: #333333;\n  line-height: 1;\n  font-weight: bold;\n}\n\n.addRed {\n  color: #ef3d34;\n}\n\n.applytipc {\n  font-size: 0.22rem;\n  color: #bebebe;\n  text-align: right;\n  display: block;\n  margin-top: 0.18rem;\n  line-height: 1;\n}\n\n.appolyselected {\n  color: #ef3d34;\n}\n\n.scoreTip {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  z-index: 1000;\n  width: 100%;\n  height: 0.96rem;\n  font-size: 0.26rem;\n  color: #bebebe;\n  line-height: 0.4rem;\n  background: #f5f5f5;\n  padding-top: 0.36rem;\n  text-align: center;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./scoreList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./scoreList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./scoreList.vue?vue&type=template&id=42fbd1a2&scoped=true&\"\nimport script from \"./scoreList.vue?vue&type=script&lang=js&\"\nexport * from \"./scoreList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./scoreList.vue?vue&type=style&index=0&id=42fbd1a2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"42fbd1a2\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}