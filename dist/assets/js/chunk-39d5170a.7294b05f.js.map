{"version":3,"sources":["webpack:///./src/views/applyDetail.vue?6a84","webpack:///./src/views/applyDetail.vue?14f1","webpack:///src/views/applyDetail.vue","webpack:///./src/views/applyDetail.vue?2059","webpack:///./src/views/applyDetail.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","balance","totalIncome","ref","attrs","refresh","infinite","_l","item","key","id","on","$event","toAccDetails","payId","accountTypeDesc","timeFormat","createTime","class","appolymoney_","blsign","amount","memo","directives","name","rawName","value","expression","staticRenderFns","data","userInfo","$util","parse","getCookie","lastId","pageSize","datalist","noDate","noDateFlag","components","defaultPage","created","methods","$router","push","getDetail","ajaxRequest","setTimeout","$refs","myscroller","finishInfinite","component"],"mappings":"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","file":"assets/js/chunk-39d5170a.7294b05f.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./applyDetail.vue?vue&type=style&index=0&id=224fa08b&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./applyDetail.vue?vue&type=style&index=0&id=224fa08b&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"applyDetail\"},[_c('div',{staticClass:\"rollinghint\"},[_c('span',[_vm._v(\"\\n      当前余额：\\n      \"),_c('label',[_vm._v(_vm._s(_vm.balance)+\"元\")])]),_c('span',{staticClass:\"rtext\"},[_vm._v(\"\\n      累计收益：\\n      \"),_c('label',[_vm._v(_vm._s(_vm.totalIncome)+\"元\")])])]),_c('div',{staticClass:\"applyDetailBox\"},[_c('scroller',{ref:\"myscroller\",attrs:{\"on-refresh\":_vm.refresh,\"on-infinite\":_vm.infinite}},[_c('ul',[_vm._l((_vm.datalist),function(item){return [_c('li',{key:item.id,on:{\"click\":function($event){return _vm.toAccDetails(item.payId)}}},[_c('div',{staticClass:\"applybt\"},[_vm._v(_vm._s(item.accountTypeDesc))]),_c('div',{staticClass:\"applyte\"},[_vm._v(_vm._s(_vm.timeFormat(item.createTime)))]),_c('div',{staticClass:\"applynum\"},[_c('table',[_c('tr',[_c('td',[_c('span',{staticClass:\"appolymoney\",class:{appolymoney_:item.blsign==1}},[_vm._v(_vm._s((item.blsign==1?'+':'-')+item.amount)+\"元\")]),_c('span',{staticClass:\"applytipc\"},[_vm._v(_vm._s(item.memo))])])])])])])]})],2)])],1),_c('default-Page',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.noDateFlag),expression:\"noDateFlag\"}]})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"applyDetail\">\n    <div class=\"rollinghint\">\n      <span>\n        当前余额：\n        <label>{{balance}}元</label>\n      </span>\n      <span class=\"rtext\">\n        累计收益：\n        <label>{{totalIncome}}元</label>\n      </span>\n    </div>\n    <div class=\"applyDetailBox\">\n      <scroller :on-refresh=\"refresh\" :on-infinite=\"infinite\" ref=\"myscroller\">\n        <ul>\n          <template v-for=\"item in datalist\">\n            <li :key=\"item.id\" @click=\"toAccDetails(item.payId)\">\n              <div class=\"applybt\">{{item.accountTypeDesc}}</div>\n              <div class=\"applyte\">{{timeFormat(item.createTime)}}</div>\n              <div class=\"applynum\">\n                <table>\n                  <tr>\n                    <td>\n                      <span\n                        class=\"appolymoney\"\n                        :class=\"{appolymoney_:item.blsign==1}\"\n                      >{{(item.blsign==1?'+':'-')+item.amount}}元</span>\n                      <span class=\"applytipc\">{{item.memo}}</span>\n                    </td>\n                  </tr>\n                </table>\n              </div>\n            </li>\n          </template>\n        </ul>\n      </scroller>\n    </div>\n    <default-Page v-show=\"noDateFlag\"></default-Page>\n  </div>\n</template>\n\n<script>\nimport defaultPage from \"@/components/defaultPage/defaultPage\";\nexport default {\n  name: \"applyDetail\",\n  data() {\n    return {\n      userInfo: this.$util.parse(this.$util.getCookie(\"userInfo\")),\n      lastId: null,\n      pageSize: 10,\n      balance: 0, //余额\n      totalIncome: 0, //累计收入\n      datalist: [], //账户明细列表\n      noDate: false, //这是一个判断是否加载的开关\n      noDateFlag: false\n    };\n  },\n  components: {\n    \"default-Page\": defaultPage\n  },\n  created() {\n    // this.getDetail();\n  },\n  methods: {\n    toAccDetails(payId){\n      this.$router.push({path:'/accDetails',query:{payId: payId}});\n    },\n    getDetail(done) {\n      let wxUser = this.userInfo.wxUser;\n      this.ajaxRequest(\n        {\n          path: \"api-server/apih5/account/user/accountRecordList\",\n          data: {\n            userNo: wxUser.userNo,\n            lastId: this.lastId ? this.lastId : \"\",\n            pageSize: this.pageSize\n          }\n        },\n        res => {\n          if (res.data.code == \"0000\") {\n            this.balance = res.data.data.balance;\n            this.totalIncome = res.data.data.totalIncome;\n            if (res.data.data.list.length == 0) {\n              this.noDate = true;\n              if (!this.lastId) {\n                this.noDateFlag = true;\n              }\n            } else {\n              if (!this.lastId) {\n                this.datalist = res.data.data.list;\n              } else {\n                this.datalist = this.datalist.concat(res.data.data.list);\n              }\n              this.lastId =\n                res.data.data.list[res.data.data.list.length - 1].id;\n            }\n          } else if (res.data.code == \"1001\") {\n            if (this.datalist.length == 0) {\n              this.noDateFlag = true;\n            }\n            this.noDate = true;\n          }\n           done && done();\n        }\n      );\n    },\n    timeFormat(timeStamp) {\n      const time = new Date(timeStamp);\n      const year = time.getFullYear();\n      const m = time.getMonth() + 1;\n      const d = time.getDate();\n      const h = time.getHours();\n      const mm = time.getMinutes();\n      const s = time.getSeconds();\n      return (\n        m +\n        \"/\" +\n        d +\n        \" \" +\n        (h > 9 ? h : \"0\" + h) +\n        \":\" +\n        (mm > 9 ? mm : \"0\" + mm)\n      );\n    },\n    refresh() {\n      this.lastId = null; //重置\n      this.noDate = false; //重置数据判断\n      setTimeout(() => {\n        this.getDetail();\n        this.$refs.myscroller.finishPullToRefresh(); //刷新完毕关闭刷新的转圈圈\n      }, 1700);\n    },\n    // 上拉加载\n    infinite(done) {\n      if (this.noDate) {\n        this.$refs.myscroller.finishInfinite(true); //这个方法是不让它加载了，显示“没有更多数据”，要不然会一直转圈圈\n      } else {\n        setTimeout(() => {\n          this.getDetail(done);\n        }, 1500);\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.applyDetail {\n  width: 100%;\n  height: 100%;\n  padding-top: 0.8rem;\n}\n.applyDetailBox {\n  position: relative;\n  height: 100%;\n}\n.rollinghint {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 1000;\n  width: 100%;\n  font-size: 0.28rem;\n  color: #888888;\n  line-height: 0.88rem;\n  background: #f5f5f5;\n  padding: 0 0.24rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: Center;\n}\n.rollinghint label {\n  color: #ef3d34;\n  font-size: 0.32rem;\n  font-weight: bold;\n}\n.rtext {\n  float: right;\n}\n.applyDetail ul {\n  width: 100%;\n  height: auto;\n}\n.applyDetail ul li {\n  width: 100%;\n  height: 1.32rem;\n  position: relative;\n  height: 1.32rem;\n  padding-top: 0.2rem;\n  padding: 0.2rem 0.24rem 0 0.24rem;\n  border-bottom: 1px #ececec solid;\n}\n.applybt {\n  font-size: 0.3rem;\n  color: #333333;\n  line-height: 0.5rem;\n}\n.applyte {\n  font-size: 0.22rem;\n  color: #bebebe;\n  line-height: 0.4rem;\n}\n.applynum {\n  width: auto;\n  position: absolute;\n  right: 0.24rem;\n  font-size: 0.32rem;\n  top: 0;\n  bottom: 0;\n  margin-top: auto;\n  margin-bottom: auto;\n  color: #333333;\n  height: auto;\n}\n.applynum table {\n  width: 100%;\n  border-collapse: collapse;\n  height: 1.32rem;\n}\n.appolymoney {\n  width: 100%;\n  text-align: right;\n  display: block;\n  font-size: 0.32rem;\n  color: #333333;\n  line-height: 1;\n  font-weight: bold;\n}\n.appolymoney_{\n  color:#ef3d34;\n}\n.applytipc {\n  font-size: 0.22rem;\n  color: #bebebe;\n  text-align: right;\n  display: block;\n  margin-top: 0.18rem;\n  line-height: 1;\n}\n.appolyselected {\n  color: #ef3d34;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./applyDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./applyDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./applyDetail.vue?vue&type=template&id=224fa08b&scoped=true&\"\nimport script from \"./applyDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./applyDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./applyDetail.vue?vue&type=style&index=0&id=224fa08b&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"224fa08b\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}