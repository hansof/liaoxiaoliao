(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04535d44"],{"87f9":function(e,t,s){"use strict";var a=s("a090"),i=s.n(a);i.a},"9db0":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"bindinfo"},[s("div",{staticClass:"bindinfoBox"},[s("div",{staticClass:"Tips"},[e._v("绑定手机号，保障您的账号安全")]),s("div",{staticClass:"rows_1"},[s("div",{staticClass:"us_1"},[e._v("手机号码")]),s("input",{ref:"phone",staticClass:"username",attrs:{type:"tel",pattern:"\\d*",onpaste:"return false",maxlength:"11",placeholder:"请输入您的手机号码",oninput:"value=value.replace(/[^\\d]/g,'')"}}),s("div",{staticClass:"clear"})]),s("div",{staticClass:"rows_1"},[s("div",{staticClass:"us_1"},[e._v("验 证 码")]),s("input",{ref:"verify",staticClass:"username width",attrs:{type:"tel",pattern:"\\d*",onpaste:"return false",maxlength:"6",placeholder:"请输入验证码",oninput:"value=value.replace(/[^\\d]/g,'')"}}),s("a",{ref:"codeBtn",staticClass:"codeBtn",attrs:{href:"javascript:;"},on:{click:e.sendCode}},[e._v("\n        "+e._s(e.codeHtml)+"\n        "),s("span")]),s("div",{staticClass:"clear"})]),s("a",{staticClass:"nextBtn",attrs:{href:"javascript:;"},on:{click:e.next}},[e._v("下一步")])]),s("div",{staticClass:"footTips"},[e._v("本产品保证对您的任何个人信息进行严格保密")])])},i=[],n=(s("a481"),{name:"bindphone",data:function(){return{userInfo:this.$util.parse(this.$util.getCookie("userInfo")),codeHtml:"获取验证码",seconds:60,timer:null}},methods:{next:function(){""==this.$refs.phone.value?this.$util.blackTs("请输入您的手机号"):/^1[3456789]\d{9}$/.test(this.$refs.phone.value)?""==this.$refs.verify.value?this.$util.blackTs("请输入验证码"):this.bindPhone():this.$util.blackTs("请输入正确的手机号")},bindPhone:function(){var e=this,t=this.userInfo.wxUser;this.ajaxRequest({path:"api-server/apih5/account/user/bindPhone",data:{userNo:t.userNo,mobile:this.$refs.phone.value,code:this.$refs.verify.value}},(function(s){"0000"==s.data.code?(e.$util.blackTs("绑定手机号成功"),t.mobile=e.$refs.phone.value,e.userInfo.wxUser=t,e.$util.setCookie("userInfo",JSON.stringify(e.userInfo)),setTimeout((function(){t.idCard&&""!=t.idCard&&t.realName&&""!=t.realName?e.$route.query.from&&"home"==e.$route.query.from?e.$router.replace({path:"/apply"}):window.history.back():e.$route.query.from&&"home"==e.$route.query.from?e.$router.replace({path:"/bindinfo",query:{from:"home"}}):window.history.back()}),600)):"1006"==s.data.code?e.$util.blackTs("手机验证码错误"):e.$util.blackTs(s.data.message)}))},sendCode:function(){var e=this;""==this.$refs.phone.value?this.$util.blackTs("请填写手机号"):/^1[3456789]\d{9}$/.test(this.$refs.phone.value)?60==this.seconds&&(this.ajaxRequest({path:"api-server/securityCode",data:{mobile:this.$refs.phone.value,type:1}},(function(t){"0"==t.data.code?e.$util.blackTs("验证码发送成功"):e.$util.blackTs(t.data.message)})),this.codeHtml="60s后重新获取",this.timer=setInterval((function(){e.updateCode()}),1e3)):this.$util.blackTs("请输入正确的手机号")},updateCode:function(){this.seconds=this.seconds-1,0==this.seconds?(this.codeHtml="重新获取",this.seconds=60,clearInterval(this.timer)):this.codeHtml=this.seconds+"s后重新获取"}}}),o=n,r=(s("87f9"),s("2877")),l=Object(r["a"])(o,a,i,!1,null,"0d959664",null);t["default"]=l.exports},a090:function(e,t,s){}}]);
//# sourceMappingURL=chunk-04535d44.efb32421.js.map