(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-40779a78"],{3591:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAUCAIAAAAhsNuPAAAAEklEQVR4AWN4b2uChugkNCoEANZKpQG9ByflAAAAAElFTkSuQmCC"},7432:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAkFBMVEUAAACZmZmcnJybm5uioqKbm5uYmJiZmZmYmJiYmJiZmZmampqZmZmampqZmZmdnZ2bm5uKioqYmJiLi4uKioqmpqaKioqKioqKioqLi4uKioqNjY2JiYmKioqJiYmKioqJiYmKioqKioqKioqMjIyPj4+KioqJiYmKioqLi4uKioqKioqMjIyJiYmVlZWJiYni0x11AAAAL3RSTlMA2UNADCbz6MzHvomBa1QxIfnpTkkEpJN3YVoe9OXbvLObjGo3FunOxnxFQ0AtE/yvSsMAAAEFSURBVCjPfVPbloIwDEywRShIYUHl4nXVve/m//9uhZbG4jnMS5sMTKdJCg46VRiGqFINU2SISSCFkEGCmHlUHkcBR0EU5xwtlivwsFouHPfitk+pnD97FDPKsdO8fV3a31E5HnxGNlx/FnTHqTNh1HvG0eeZDpef9oPe18YzAmi03JUOov9/T41JoIY0seQrbb0VkhTUqHqiclgb2thaKEBpyU6as45Um4RECAV4KGl3MzsRTsmqKEpwJEqf232DhcTeEOPvrai4Oaq/CqM1Tt1VNAJjSw0HqIfysdW6Y1Xkwj8hyvyWQX28ArfMb7Yg2nCzp2Ny3lecmh2w+dGcH+rZ5/APspwPHq8XxXwAAAAASUVORK5CYII="},"831f":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcBAMAAACAI8KnAAAAFVBMVEUAAADZ2dna2trb29vZ2dng4ODZ2dm2GnjlAAAABnRSTlMA56Z3GxkAsUcIAAAANElEQVQY02NgUUyDAyEHBkdTBjgIFmFQZkACRgyiyNxAhgRkLtsoFw8XLejQAhYt2NEiBQCejRQPZut3wAAAAABJRU5ErkJggg=="},"9e78":function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"comboSet"},[o("div",{staticClass:"tips"},[t._v("用户购买后可查看该时段内您发的所有料内容.")]),o("div",{staticClass:"bgDiv"},[t._m(0),o("ul",{staticClass:"ulContent"},[o("li",[t._m(1),o("input",{directives:[{name:"model",rawName:"v-model",value:t.three,expression:"three"}],attrs:{type:"text",placeholder:"待设置"},domProps:{value:t.three},on:{focus:function(e){return t.focusEvent(e)},blur:function(e){return t.blurEvent(e)},input:[function(e){e.target.composing||(t.three=e.target.value)},function(e){return t.moneyLimit("three")}]}}),t._v("元\n\t\t\t")]),o("li",[t._m(2),o("input",{directives:[{name:"model",rawName:"v-model",value:t.seven,expression:"seven"}],attrs:{type:"text",placeholder:"待设置"},domProps:{value:t.seven},on:{focus:function(e){return t.focusEvent(e)},blur:function(e){return t.blurEvent(e)},input:[function(e){e.target.composing||(t.seven=e.target.value)},function(e){return t.moneyLimit("seven")}]}}),t._v("元\n\t\t\t")]),o("li",[t._m(3),o("input",{directives:[{name:"model",rawName:"v-model",value:t.thirty,expression:"thirty"}],attrs:{type:"text",placeholder:"待设置"},domProps:{value:t.thirty},on:{focus:function(e){return t.focusEvent(e)},blur:function(e){return t.blurEvent(e)},input:[function(e){e.target.composing||(t.thirty=e.target.value)},function(e){return t.moneyLimit("thirty")}]}}),t._v("元\n\t\t\t")]),o("li",[t._m(4),o("input",{directives:[{name:"model",rawName:"v-model",value:t.sixty,expression:"sixty"}],attrs:{type:"text",placeholder:"待设置"},domProps:{value:t.sixty},on:{focus:function(e){return t.focusEvent(e)},blur:function(e){return t.blurEvent(e)},input:[function(e){e.target.composing||(t.sixty=e.target.value)},function(e){return t.moneyLimit("sixty")}]}}),t._v("元\n\t\t\t")])]),o("div",{staticClass:"divContent"},[o("div",[t._v("自定义")]),t._v("包\n\t\t\t"),o("input",{directives:[{name:"model",rawName:"v-model",value:t.customDay,expression:"customDay"}],staticClass:"dayInput",attrs:{type:"text",placeholder:"待设置"},domProps:{value:t.customDay},on:{input:[function(e){e.target.composing||(t.customDay=e.target.value)},function(e){return t.dayLimit("customDay")}],focus:function(e){return t.focusEvent(e,1)},blur:function(e){return t.blurEvent(e)}}}),t._v("天\n\t\t\t"),o("input",{directives:[{name:"model",rawName:"v-model",value:t.customMoney,expression:"customMoney"}],staticClass:"moneyInput",attrs:{type:"text",placeholder:"待设置"},domProps:{value:t.customMoney},on:{input:[function(e){e.target.composing||(t.customMoney=e.target.value)},function(e){return t.moneyLimit("customMoney")}],focus:function(e){return t.focusEvent(e)},blur:function(e){return t.blurEvent(e)}}}),t._v("元\n\t\t")])]),o("div",{staticClass:"cutOffLine"}),o("div",{staticClass:"bgDiv"},[t._m(5),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.introText,expression:"introText"}],staticClass:"introduce",attrs:{maxlength:"100",placeholder:"用户购买时可见，用于您宣传套餐的性价比，10-100字."},domProps:{value:t.introText},on:{blur:function(e){return t.blurEvent(e,1)},input:function(e){e.target.composing||(t.introText=e.target.value)}}}),o("div",{staticClass:"closeMyCombo",style:t.closeShow},[o("img",{staticClass:"choseImg",attrs:{src:t.closeChose},on:{click:t.clickClose}}),o("div",[t._v("关闭我的套餐")]),o("img",{staticClass:"queImg",attrs:{src:i("7432")},on:{click:t.queTs}})])]),o("div",{staticClass:"toBuy",on:{click:t.setCombo}},[t._v(t._s(t.confirmText))])])},n=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"headLine"},[o("img",{attrs:{src:i("3591")}}),o("div",[t._v("套餐设置")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._v("\n\t\t\t\t\t包"),i("span",[t._v("3")]),t._v("天\n\t\t\t\t")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._v("\n\t\t\t\t\t包"),i("span",[t._v("7")]),t._v("天\n\t\t\t\t")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._v("\n\t\t\t\t\t包"),i("span",[t._v("30")]),t._v("天\n\t\t\t\t")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._v("\n\t\t\t\t\t包"),i("span",[t._v("60")]),t._v("天\n\t\t\t\t")])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"headLine"},[o("img",{attrs:{src:i("3591")}}),o("div",[t._v("套餐介绍")])])}],s=(i("c5f6"),i("28a5"),{name:"comboSet",data:function(){return{three:"",seven:"",thirty:"",sixty:"",customDay:"",customMoney:"",introText:"",userInfo:this.$util.parse(this.$util.getCookie("userInfo")),closeShow:"display:none",ifChose:!1,closeChose:i("831f"),comboId:"",confirmText:"确 定",oldComboSet:"",oldIntroText:"",numOrText:this.$util.androidOrIphone()?"text":"Number"}},mounted:function(){this.queryMySet()},beforeDestroy:function(){this.$comfirm("false")},methods:{focusEvent:function(t,e){t.target.placeholder=1==e?"1~99":"1~5000"},blurEvent:function(t,e){1!=e&&(t.target.placeholder="待设置"),setTimeout((function(){window.scrollTo(0,0)}),100)},queTs:function(){this.$comfirm({title:"套餐关闭",content:"关闭后用户将不能继续购买您的套餐，已购买套餐的用户会继续享受套餐规则。",confirmBtn:"确定"})},moneyLimit:function(t){var e=/^[1-9][0-9]*$/g;console.log(this[t]),e.test(this[t])||(this[t]=""),NaN!=parseInt(this[t])&&0!=this[t].length||(this[t]=""),this[t]>=5e3&&(this[t]=5e3)},dayLimit:function(t){var e=/^[1-9][0-9]*$/g;e.test(this[t])||(this[t]=""),NaN!=parseInt(this[t])&&0!=this[t].length||(this[t]=""),this[t]>=99&&(this[t]=99)},clickClose:function(){this.ifChose?(this.ifChose=!1,this.closeChose=i("831f")):(this.ifChose=!0,this.closeChose=i("ab68"))},queryMySet:function(){var t=this,e={path:"api-server/apih5/activity/getComboConfig",data:{userno:this.userInfo.wxUser.userNo}};this.ajaxRequest(e,(function(e){if("0000"==e.data.errorCode){var i=e.data.value;t.comboId=i.id,t.closeShow="",t.introText=i.memo,t.oldIntroText=i.memo,t.confirmText="确定修改",t.oldComboSet=i.content;for(var o=i.content,n=o.split(","),s=0;s<n.length;s++){var r=n[s].split("_");switch(Number(r[0])){case 3:t.three=r[1]/100;break;case 7:t.seven=r[1]/100;break;case 30:t.thirty=r[1]/100;break;case 60:t.sixty=r[1]/100;break;default:t.customDay=r[0],t.customMoney=r[1]/100;break}}}else e.data.errorCode}))},setCombo:function(){var t=this,e="";if("1"!=this.ifChose){if(!this.three&&!this.seven&&!this.thirty&&!this.sixty&&(!this.customDay||!this.customMoney))return void this.$comfirm({title:"温馨提示",content:"请至少设置一个套餐",confirmBtn:"确定"});var o="";this.three&&(o+="3_"+100*this.three+","),this.seven&&(o+="7_"+100*this.seven+","),this.thirty&&(o+="30_"+100*this.thirty+","),this.sixty&&(o+="60_"+100*this.sixty),","==o.charAt(o.length-1)&&(o=o.substring(0,o.length-1));var n="";if(this.customDay&&this.customMoney&&(n=this.customDay+"_"+100*this.customMoney),e=o?n?o+","+n:o:n,n&&"3_,7_,30_,60_".indexOf(this.customDay+"_")>=0)return void this.$comfirm({title:"温馨提示",content:"自定义3天、7天、30天、60天套餐请在模板中设置。",confirmBtn:"确定"});if(this.introText.length<10)return void this.$comfirm({title:"温馨提示",content:"请输入10~100字数的套餐介绍。",confirmBtn:"确定"});if(this.introText==this.oldIntroText&&this.oldComboSet==e&&!this.ifChose)return void this.$comfirm({title:"温馨提示",content:"套餐未发生变化",confirmBtn:"确定"})}var s={path:"api-server/apih5/activity/comboSettings",data:{userno:this.userInfo.wxUser.userNo,id:this.comboId,content:e,memo:this.introText,state:this.ifChose?"1":"0"}};this.ajaxRequest(s,(function(o){if("0000"==o.data.errorCode){var n="套餐设置成功";t.closeShow||(n="套餐修改成功"),t.ifChose&&(n="套餐关闭成功"),t.confirmText="确定修改",t.closeShow="",t.comboId=o.data.value.id,t.oldComboSet=e,t.oldIntroText=t.introText,t.ifChose&&(t.three="",t.seven="",t.thirty="",t.sixty="",t.customDay="",t.customMoney="",t.introText="",t.oldIntroText="",t.oldComboSet="",t.closeShow="display:none",t.ifChose=!1,t.closeChose=i("831f"),t.comboId="",t.confirmText="确 定"),t.$comfirm({title:"温馨提示",content:n,confirmBtn:"确定"})}else t.$comfirm({title:"温馨提示",content:o.data.message,confirmBtn:"确定"})}))}}}),r=s,a=(i("f35e"),i("2877")),c=Object(a["a"])(r,o,n,!1,null,"4a5a9a56",null);e["default"]=c.exports},ab68:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAM1BMVEUAAAD2Pzv/VVXwPjTvVU3uRjztW1PwPTTwPjbtSkL/QUHrVE3xTkftV0/sXFXsXFXvPTRWo/NGAAAAEHRSTlMAGgPnP/3Opnf5C+Yk3r2vYogswgAAAHNJREFUKM+90zkOwCAMRNGxnQTI6vufNjRhJAKU/PZJNIwBCeaNLEg2i4JGEk0QIjrFgOydxODo5hNRn7uLunlSYm3rAuLfiG0j7lobUVM6aRXi8qy06tkjK41YlEYsSiN+eiUa8Usn/edwYMNpDkc9PIcXp3kIH11c1SsAAAAASUVORK5CYII="},c3fd:function(t,e,i){},f35e:function(t,e,i){"use strict";var o=i("c3fd"),n=i.n(o);n.a}}]);
//# sourceMappingURL=chunk-40779a78.23e4e2cb.js.map