{"version":3,"sources":["webpack:///./src/views/profile/profile.vue?db91","webpack:///./src/views/profile/profile.vue?a046","webpack:///src/views/profile/profile.vue","webpack:///./src/views/profile/profile.vue?4757","webpack:///./src/views/profile/profile.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","userInfo","wxUser","headImgUrl","defaultHead","_v","_s","nickName","directives","name","rawName","value","expression","domProps","on","$event","target","composing","introduce","checkLenth","modifyIntroduce","staticRenderFns","data","$util","parse","getCookie","mounted","methods","trim","length","blackTs","path","userNo","ajaxRequest","paramJson","res","code","setTimeout","substr","component"],"mappings":"uIAAA,yBAAqf,EAAG,G,2CCAxf,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,UAAUC,MAAM,CAAC,IAAMN,KAAKO,SAASC,OAAOC,WAAW,QAAUV,EAAIW,eAAeP,EAAG,KAAK,CAACE,YAAY,YAAY,CAACN,EAAIY,GAAGZ,EAAIa,GAAGZ,KAAKO,SAASC,OAAOK,aAAaV,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,WAAW,CAACW,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOlB,EAAa,UAAEmB,WAAW,cAAcZ,MAAM,CAAC,YAAc,+BAA+Ba,SAAS,CAAC,MAASpB,EAAa,WAAGqB,GAAG,CAAC,MAAQ,CAAC,SAASC,GAAWA,EAAOC,OAAOC,YAAqBxB,EAAIyB,UAAUH,EAAOC,OAAOL,QAAOlB,EAAI0B,iBAAiBtB,EAAG,MAAM,CAACE,YAAY,OAAOe,GAAG,CAAC,MAAQrB,EAAI2B,kBAAkB,CAACvB,EAAG,OAAO,CAACJ,EAAIY,GAAG,cACxuBgB,EAAkB,GCatB,GACEZ,KAAM,OACNa,KAFF,WAGI,MAAO,CACLrB,SAAUP,KAAK6B,MAAMC,MAAM9B,KAAK6B,MAAME,UAAU,aAChDrB,YAAa,aAAe,EAAlC,YACMc,UAAW,KAGfQ,QATF,WAoBQhC,KAAKO,SAASC,OAAOgB,YACvBxB,KAAKwB,UAAYxB,KAAKO,SAASC,OAAOgB,YAG1CS,QAAS,CACPP,gBADJ,WACA,WAIM,GAAI1B,KAAKwB,UAAUU,OAAOC,OAAS,GACjCnC,KAAK6B,MAAMO,QAAQ,sBAC3B,CACQ,IAAR,GACUC,KAAM,gDACNT,KAAM,CACJU,OAAQtC,KAAKO,SAASC,OAAO8B,OAC7Bd,UAAWxB,KAAKwB,YAGpBxB,KAAKuC,YAAYC,GAAW,SAApC,GACU,GAAqB,QAAjBC,EAAIb,KAAKc,KAAgB,CAC3B,EAAZ,0BACY,IAAZ,oBACYlC,EAAOgB,UAAY,EAA/B,UACY,EAAZ,kBACY,EAAZ,uDACYmB,YAAW,WACT,EAAd,iBACA,UAEY,EAAZ,mCAKIlB,WA/BJ,WAgCUzB,KAAKwB,UAAUW,OAAS,KAC1BnC,KAAKwB,UAAYxB,KAAKwB,UAAUoB,OAAO,EAAG,IAC1C5C,KAAK6B,MAAMO,QAAQ,oBCxEqU,I,wBCQ5VS,EAAY,eACd,EACA/C,EACA6B,GACA,EACA,KACA,WACA,MAIa,aAAAkB,E","file":"assets/js/chunk-a0a124ce.f311b80e.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./profile.vue?vue&type=style&index=0&id=3469912b&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./profile.vue?vue&type=style&index=0&id=3469912b&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"profile\"},[_c('img',{staticClass:\"headImg\",attrs:{\"src\":this.userInfo.wxUser.headImgUrl,\"onerror\":_vm.defaultHead}}),_c('h3',{staticClass:\"userName\"},[_vm._v(_vm._s(this.userInfo.wxUser.nickName))]),_c('div',{staticClass:\"info\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.introduce),expression:\"introduce\"}],attrs:{\"placeholder\":\"请输入不超过50字的自我介绍，凸显自己的专业能力为主。\"},domProps:{\"value\":(_vm.introduce)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.introduce=$event.target.value},_vm.checkLenth]}})]),_c('div',{staticClass:\"sure\",on:{\"click\":_vm.modifyIntroduce}},[_c('span',[_vm._v(\"确 认\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"profile\">\n    <img class=\"headImg\" :src=\"this.userInfo.wxUser.headImgUrl\" :onerror=\"defaultHead\" />\n    <h3 class=\"userName\">{{this.userInfo.wxUser.nickName}}</h3>\n    <div class=\"info\">\n      <textarea placeholder=\"请输入不超过50字的自我介绍，凸显自己的专业能力为主。\" v-model=\"introduce\" @input=\"checkLenth\"></textarea>\n    </div>\n    <div @click=\"modifyIntroduce\" class=\"sure\">\n      <span>确 认</span>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"home\",\n  data() {\n    return {\n      userInfo: this.$util.parse(this.$util.getCookie(\"userInfo\")),\n      defaultHead: 'this.src=\"' + require(\"@/assets/img/head.png\") + '\"', //默认头像\n      introduce: \"\" //自我介绍\n    };\n  },\n  mounted() {\n    // this.$author({\n    //   headImg: this.userInfo.wxUser.headImgUrl,\n    //   userName: this.userInfo.wxUser.nickName,\n    //   content:\n    //     \"体彩中心首批足彩培训讲师，设立“张氏指数”，作为评论员，被亿万球迷所熟悉和喜爱\",\n    //   focusUserNo: \"\",\n    //   followStatus: 0\n    // })\n    //   .then(res => {})\n    //   .catch(res => {});\n    if (this.userInfo.wxUser.introduce) {\n      this.introduce = this.userInfo.wxUser.introduce;\n    }\n  },\n  methods: {\n    modifyIntroduce() {\n      // if (this.introduce == \"\") {\n      //   this.$util.blackTs(\"请填写自我介绍\");\n      // } else \n      if (this.introduce.trim().length > 50) {\n        this.$util.blackTs(\"请输入不超过50字的自我介绍\");\n      } else {\n        let paramJson = {\n          path: \"api-server/apih5/account/user/modifyIntroduce\",\n          data: {\n            userNo: this.userInfo.wxUser.userNo,\n            introduce: this.introduce\n          }\n        };\n        this.ajaxRequest(paramJson, res => {\n          if (res.data.code == \"0000\") {\n            this.$util.blackTs(\"自我介绍修改成功\");\n            let wxUser = this.userInfo.wxUser;\n            wxUser.introduce = this.introduce;\n            this.userInfo.wxUser = wxUser;\n            this.$util.setCookie(\"userInfo\", JSON.stringify(this.userInfo));\n            setTimeout(() => {\n              this.$router.go(-1);\n            }, 600);\n          } else {\n            this.$util.blackTs(res.data.message);\n          }\n        });\n      }\n    },\n    checkLenth() {\n      if (this.introduce.length > 50) {\n        this.introduce = this.introduce.substr(0, 50);\n        this.$util.blackTs(\"您的自我介绍已超过50字\");\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.profile {\n  height: auto;\n  padding: 0.6rem 0 0.5rem 0;\n}\n.headImg {\n  width: 1.2rem;\n  height: 1.2rem;\n  margin: 0 auto;\n  border-radius: 50%;\n}\n.userName {\n  font-size: 0.36rem;\n  line-height: 1;\n  padding: 0.3rem 0;\n  color: #333;\n  font-weight: bold;\n  text-align: center;\n}\n.info {\n  padding: 0 0.24rem;\n}\n.info textarea {\n  position: relative;\n  width: 100%;\n  min-height: 1.68rem;\n  line-height: 0.42rem;\n  background: #fafafa;\n  border: 1px solid #ececec;\n  border-radius: 0.1rem;\n  outline: 0;\n  color: #333;\n  -webkit-user-select: text;\n  outline: none;\n  resize: none;\n  overflow: scroll;\n  padding: 0.22rem 0.3rem;\n  word-wrap: break-word;\n  word-break: normal;\n  white-space: normal;\n  text-align: justify;\n  font-size: 0.28rem;\n}\n.sure {\n  width: 4.12rem;\n  height: 0.98rem;\n  margin: 0.5rem auto 0 auto;\n  background: #ef3d34;\n  font-size: 0.36rem;\n  color: white;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  border-radius: 0.2rem;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./profile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./profile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./profile.vue?vue&type=template&id=3469912b&scoped=true&\"\nimport script from \"./profile.vue?vue&type=script&lang=js&\"\nexport * from \"./profile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./profile.vue?vue&type=style&index=0&id=3469912b&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3469912b\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}