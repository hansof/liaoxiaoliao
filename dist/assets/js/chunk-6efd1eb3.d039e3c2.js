(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6efd1eb3"],{"25ae":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAATlBMVEUAAAD////u7u7t7e3s7Ozs7Ozs7Oz////u7u7s7Ozs7Ozt7e3t7e3////u7u7t7e3q6uri4uKkpKSZmZm7u7u5ubnr6+ulpaXs7Ozt7e16jyp0AAAAGnRSTlMAAjyMv9nzCHbp/1PiAYWo///////////yizFKcz0AAAC/SURBVHgBhZMFmoUwDAZTb3/c4f4X3UWa76EdnKk3IUZIpY21Risp6IrzAUzw7myzHCfy7EcWJW6UBdsKD1TRl3ikPPrFC1v/Ln/T+Tp+j1c8keD51g12mjrOX5Bk23Y9VvqujV6Sirrpum4AMPw/YzuKNCL96sfV9jjQZMCsZtraiBiyOPmThT3pca07jWBmMl+1DemvvjWpr5EvJL/mLXlRz6vGi0r+fc19akMT4ZAIpkQoJgI5kQaJJEqk4B+yTyB2AS1p6wAAAABJRU5ErkJggg=="},5523:function(t,e,s){},"9fb7":function(t,e,s){"use strict";var a=s("5523"),i=s.n(a);i.a},e49c:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"submitTs"},[a("div",{staticClass:"typeText"},[t._v("投诉描述（必填）")]),a("textarea",{ref:"content",staticClass:"contentText",attrs:{name:"",placeholder:"请输入投诉详情",maxlength:"200",id:"content",cols:"30",rows:"10"},on:{input:t.numcont}}),a("div",{staticClass:"numberCont"},[t._v(t._s(t.numberCont)+"/200")]),a("div",{staticClass:"clear"}),a("div",{staticClass:"typeText"},[t._v("\n    证据截图（选填）\n    "),a("span",[t._v(t._s(t.images.length)+"/4")])]),a("canvas",{attrs:{id:"myCanvas"}}),a("ul",{staticClass:"imgCont"},[t._l(t.images,(function(e,i){return[a("li",{key:"img"+i},[a("img",{ref:"dataremove",refInFor:!0,staticClass:"removeimg",attrs:{src:s("25ae"),"data-remove":i,alt:""},on:{click:function(e){return t.removearr(i)}}}),a("div",{staticClass:"overflowbigimg"},[a("img",{staticClass:"bigimg",attrs:{src:"data:image/jpeg;base64,"+e,preview:"1",alt:""},on:{load:function(s){return t.checkImg("data:image/jpeg;base64,"+e,s)}}})])])]})),t.isupload?a("li",[a("div",{staticClass:"shizi_div"},[a("input",{staticClass:"uploadBtn",attrs:{type:"file",accept:"image/*",name:"imageFile"},on:{focus:function(e){t.sl1=t.sl2=t.sl3=!1},change:function(e){return t.upload()}}})])]):t._e(),a("div",{staticClass:"clear"})],2),a("div",{staticClass:"typeText"},[t._v("联系方式（选填）")]),a("input",{ref:"myPhone",staticClass:"myPhone",attrs:{type:"text",placeholder:"请输入手机号或者微信号，方便及时联系到您",maxlength:"20"}}),a("div",{staticClass:"clear"}),a("a",{staticClass:"submitBtn",attrs:{href:"javascript:;"},on:{click:t.submiData}},[t._v("提交")])])},i=[],n=(s("28a5"),s("a481"),s("c5f6"),{name:"submitTs",data:function(){return{userInfo:this.$util.parse(this.$util.getCookie("userInfo")),images:[],isupload:!0,numberCont:0,files:[]}},methods:{checkImg:function(t,e){var s=new Image;Number(document.documentElement.style.fontSize.replace("px",""));s.src=t,s.onload=function(){s.width>=s.height?(e.path[0].style.height="100%",e.path[0].style.width="auto"):(e.path[0].style.height="auto",e.path[0].style.width="100%")}},removearr:function(t){var e=this.images.slice(0,t).concat(this.images.slice(t+1,this.images.length));this.images=e;var s=this.files.slice(0,t).concat(this.files.slice(t+1,this.files.length));this.files=s,this.images.length<4&&(this.isupload=!0)},submiData:function(){var t=this;if(console.log(1),this.$refs.content.value.length<5||this.$refs.content.value.length>200)this.$util.blackTs("投诉详情须大于5，小于200字");else{var e={path:"api-server/form/resource/feedback/submit",data:{userNo:this.userInfo.wxUser.userNo,content:this.$refs.content.value,category:this.$route.query.typeId,images:this.files.length&&this.files,relation:this.$refs.myPhone.value,contentId:this.$route.query.orderId}};this.formDataRequest(e,(function(e){console.log(2),"0000"==e.data.errorCode&&t.$router.replace({path:"/success",query:{orderId:t.$route.query.orderId}})}))}},upload:function(){var t=this;this.sl1=!1,this.sl3=!1,this.sl2=!1;var e=document.querySelector("input[type=file]").files[0],s=new FileReader;s.readAsDataURL(e),s.onload=function(e){var s=e.target.result,a=new Image;a.src=s,a.onload=function(){var e=document.querySelector("#myCanvas"),s=e.getContext("2d");e.width=a.width,e.height=a.height,s.drawImage(a,0,0,a.width,a.height);var i=e.toDataURL("image/jpeg",.1);t.images.push(i.split(",")[1]),t.files.push(document.querySelector("input[type=file]").files[0]),t.images.length>=4&&(t.isupload=!1),t.$previewRefresh()}}},numcont:function(t){this.numberCont=t.target.value.length,t.target.value.length>200&&(t.target.value=t.target.value.substr(0,200))}}}),r=n,l=(s("9fb7"),s("2877")),o=Object(l["a"])(r,a,i,!1,null,"39f33e77",null);e["default"]=o.exports}}]);
//# sourceMappingURL=chunk-6efd1eb3.d039e3c2.js.map